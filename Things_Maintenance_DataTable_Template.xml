<?xml version="1.0" encoding="UTF-8" standalone="no"?><Entities build="b10877" majorVersion="9" minorVersion="1" modelPersistenceProviderPackage="PostgresPersistenceProviderPackage" revision="0" schemaVersion="1110" universal=""><Things><Thing description="" documentationContent="" effectiveThingPackage="DataTableThing" enabled="true" homeMashup="DataTableEditor" identifier="" inheritedValueStream="" lastModifiedDate="2021-07-07T05:42:18.579Z" name="Maintenance_DataTable_Template" projectName="JS_Maintenance_Template" published="false" tags="" thingTemplate="DataTable" valueStream=""><Owner name="jstastny" type="User"/><avatar/><DesignTimePermissions><Create/><Read/><Update/><Delete/><Metadata/></DesignTimePermissions><RunTimePermissions/><VisibilityPermissions><Visibility/></VisibilityPermissions><ConfigurationTableDefinitions/><ConfigurationTables><ConfigurationTable dataShapeName="" description="Data Thing Configuration" isMultiRow="false" name="DataThingSettings" ordinal="0"><DataShape><FieldDefinitions><FieldDefinition baseType="STRING" description="Persistence Provider Name" name="persistenceProvider" ordinal="0"/></FieldDefinitions></DataShape><Rows><Row><persistenceProvider><![CDATA[ThingworxPersistenceProvider]]></persistenceProvider></Row></Rows></ConfigurationTable><ConfigurationTable dataShapeName="" description="Data Shape Configuration" isMultiRow="false" name="Settings" ordinal="0"><DataShape><FieldDefinitions><FieldDefinition aspect.friendlyName="Data Shape" baseType="DATASHAPENAME" description="Data shape" name="dataShape" ordinal="0"/></FieldDefinitions></DataShape><Rows><Row><accumulatedDataShape><json><![CDATA[{"fieldDefinitions":{"VuforiaPictureNumber":{"name":"VuforiaPictureNumber","aspects":{"isPrimaryKey":true},"description":"","baseType":"LONG","ordinal":5},"vuforiaPicture":{"name":"vuforiaPicture","aspects":{"isPrimaryKey":false},"description":"","baseType":"IMAGE","ordinal":4},"StepsStarted":{"name":"StepsStarted","aspects":{"isPrimaryKey":false},"description":"","baseType":"BOOLEAN","ordinal":1},"totalTime":{"name":"totalTime","aspects":{"isPrimaryKey":false},"description":"","baseType":"STRING","ordinal":2},"VuforiaMaintNotes":{"name":"VuforiaMaintNotes","aspects":{"isPrimaryKey":false},"description":"","baseType":"STRING","ordinal":3},"StepsFinished":{"name":"StepsFinished","aspects":{"isPrimaryKey":false},"description":"","baseType":"BOOLEAN","ordinal":0},"VuforiaPictureText":{"name":"VuforiaPictureText","aspects":{"isPrimaryKey":false},"description":"","baseType":"STRING","ordinal":6},"VuforiaUsername":{"name":"VuforiaUsername","aspects":{"isPrimaryKey":false},"description":"","baseType":"STRING","ordinal":7}}}]]></json></accumulatedDataShape><dataShape><![CDATA[JS_Maint_Template_DataShape]]></dataShape></Row></Rows></ConfigurationTable><ConfigurationTable dataShapeName="" description="Index Settings" isMultiRow="true" name="Indexes" ordinal="1"><DataShape><FieldDefinitions><FieldDefinition aspect.friendlyName="Index Field Names" baseType="STRING" description="Index fields" name="fieldNames" ordinal="1"/><FieldDefinition aspect.friendlyName="Index Name" baseType="STRING" description="Index name" name="name" ordinal="0"/></FieldDefinitions></DataShape><Rows/></ConfigurationTable><ConfigurationTable dataShapeName="" description="Configurable options to tune Data Table performance" isMultiRow="false" name="PersistenceProviderCustomSettings" ordinal="2"><DataShape><FieldDefinitions><FieldDefinition aspect.friendlyName="Persistence Provider Custom Settings Table" baseType="INFOTABLE" description="Persistence Provider Custom Config Table" name="customConfigTable" ordinal="0"/></FieldDefinitions></DataShape><Rows><Row><customConfigTable><infoTable><DataShape><FieldDefinitions/></DataShape><Rows/></infoTable></customConfigTable></Row></Rows></ConfigurationTable></ConfigurationTables><ThingShape><PropertyDefinitions><PropertyDefinition aspect.cacheTime="0.0" aspect.dataChangeType="VALUE" aspect.isPersistent="true" baseType="STRING" category="" description="" isLocalOnly="false" name="imageText" ordinal="3"/><PropertyDefinition aspect.cacheTime="0.0" aspect.dataChangeType="VALUE" aspect.isPersistent="true" baseType="STRING" category="" description="" isLocalOnly="false" name="maintenanceNotes" ordinal="7"/><PropertyDefinition aspect.cacheTime="0.0" aspect.dataChangeType="VALUE" aspect.isPersistent="true" baseType="IMAGE" category="" description="" isLocalOnly="false" name="maintenancePicture" ordinal="2"/><PropertyDefinition aspect.cacheTime="0.0" aspect.dataChangeType="VALUE" aspect.isPersistent="true" baseType="STRING" category="" description="" isLocalOnly="false" name="nameInput" ordinal="4"/><PropertyDefinition aspect.cacheTime="0.0" aspect.dataChangeType="VALUE" aspect.isPersistent="true" baseType="LONG" category="" description="" isLocalOnly="false" name="pictureNumber" ordinal="5"/><PropertyDefinition aspect.cacheTime="0.0" aspect.dataChangeType="VALUE" aspect.isLogged="true" aspect.isPersistent="true" baseType="BOOLEAN" category="" description="" isLocalOnly="false" name="SequenceFinished" ordinal="9"/><PropertyDefinition aspect.cacheTime="0.0" aspect.dataChangeType="VALUE" aspect.isLogged="true" aspect.isPersistent="true" baseType="BOOLEAN" category="" description="" isLocalOnly="false" name="SequenceStarted" ordinal="8"/><PropertyDefinition aspect.cacheTime="0.0" aspect.dataChangeType="VALUE" aspect.isPersistent="true" baseType="STRING" category="" description="" isLocalOnly="false" name="TotalTime" ordinal="9"/></PropertyDefinitions><ServiceDefinitions><ServiceDefinition aspect.isAsync="false" category="" description="" isAllowOverride="false" isLocalOnly="false" isOpen="false" isPrivate="false" name="addEndTime"><ResultType baseType="NOTHING" description="" name="result" ordinal="0"/><ParameterDefinitions><FieldDefinition baseType="STRING" description="" name="newEnd" ordinal="1"/></ParameterDefinitions></ServiceDefinition><ServiceDefinition aspect.isAsync="false" category="" description="" isAllowOverride="false" isLocalOnly="false" isOpen="false" isPrivate="false" name="addStartTime"><ResultType baseType="NOTHING" description="" name="result" ordinal="0"/><ParameterDefinitions><FieldDefinition baseType="STRING" description="" name="newStart" ordinal="1"/></ParameterDefinitions></ServiceDefinition><ServiceDefinition aspect.isAsync="false" category="" description="" isAllowOverride="false" isLocalOnly="false" isOpen="false" isPrivate="false" name="getTotalTime"><ResultType baseType="NOTHING" description="" name="result" ordinal="0"/><ParameterDefinitions/></ServiceDefinition><ServiceDefinition aspect.isAsync="false" category="" description="" isAllowOverride="false" isLocalOnly="false" isOpen="false" isPrivate="false" name="newImage"><ResultType baseType="NOTHING" description="" name="result" ordinal="0"/><ParameterDefinitions><FieldDefinition baseType="STRING" description="" name="newImage" ordinal="1"/><FieldDefinition baseType="STRING" description="" name="newNotes" ordinal="3"/><FieldDefinition baseType="STRING" description="" name="newUsername" ordinal="2"/></ParameterDefinitions></ServiceDefinition><ServiceDefinition aspect.isAsync="false" category="" description="" isAllowOverride="false" isLocalOnly="false" isOpen="false" isPrivate="false" name="queryEntries"><ResultType baseType="NOTHING" description="" name="result" ordinal="0"/><ParameterDefinitions><FieldDefinition baseType="STRING" description="" name="querySize" ordinal="1"/></ParameterDefinitions></ServiceDefinition></ServiceDefinitions><EventDefinitions/><ServiceMappings/><ServiceImplementations><ServiceImplementation description="" handlerName="Script" name="addEndTime"><ConfigurationTables><ConfigurationTable dataShapeName="" description="" isMultiRow="false" name="Script" ordinal="0"><DataShape><FieldDefinitions><FieldDefinition baseType="STRING" description="code" name="code" ordinal="0"/></FieldDefinitions></DataShape><Rows><Row><code><![CDATA[// tags:TAGS
let tags = new Array();

// values:INFOTABLE(Datashape: JS_Maint_Template_DataShape)
let values = Things["JS_Maint_Template_DataTable"].CreateValues();
values.StepsFinished = newEnd; // BOOLEAN
newEnd = true;
me.SequenceFinished = newEnd;

// location:LOCATION
let location = {
    latitude: 0,
    longitude: 0,
    elevation: 0,
    units: "WGS84"
};

let params = {
	tags: tags,
	source: me.name,
	values: values,
	location: location
};

// AddOrUpdateDataTableEntry(tags:TAGS, source:STRING("me.name"), values:INFOTABLE(JS_Maint_Template_DataTable), location:LOCATION):STRING
let id = Things["JS_Maint_Template_DataTable"].AddOrUpdateDataTableEntry(params);

]]></code></Row></Rows></ConfigurationTable></ConfigurationTables></ServiceImplementation><ServiceImplementation description="" handlerName="Script" name="addStartTime"><ConfigurationTables><ConfigurationTable dataShapeName="" description="" isMultiRow="false" name="Script" ordinal="0"><DataShape><FieldDefinitions><FieldDefinition baseType="STRING" description="code" name="code" ordinal="0"/></FieldDefinitions></DataShape><Rows><Row><code><![CDATA[// tags:TAGS
let tags = new Array();

// values:INFOTABLE(Datashape: JS_Maint_Template_DataShape)
let values = Things["JS_Maint_Template_DataTable"].CreateValues();
values.StepsStarted = newStart; // BOOLEAN
newStart = true;
me.SequenceStarted = newStart;

// location:LOCATION
let location = {
    latitude: 0,
    longitude: 0,
    elevation: 0,
    units: "WGS84"
};

let params = {
	tags: tags,
	source: me.name,
	values: values,
	location: location
};

// AddOrUpdateDataTableEntry(tags:TAGS, source:STRING("me.name"), values:INFOTABLE(JS_Maint_Template_DataTable), location:LOCATION):STRING
let id = Things["JS_Maint_Template_DataTable"].AddOrUpdateDataTableEntry(params);

]]></code></Row></Rows></ConfigurationTable></ConfigurationTables></ServiceImplementation><ServiceImplementation description="" handlerName="Script" name="getTotalTime"><ConfigurationTables><ConfigurationTable dataShapeName="" description="" isMultiRow="false" name="Script" ordinal="0"><DataShape><FieldDefinitions><FieldDefinition baseType="STRING" description="code" name="code" ordinal="0"/></FieldDefinitions></DataShape><Rows><Row><code><![CDATA[// Time: DATETIME
let endTime = me.GetPropertyTime({
	propertyName: "SequenceFinished" /* STRING */
});
let startTime = me.GetPropertyTime({
	propertyName: "SequenceStarted" /* STRING */
});

me.TotalTime = ((endTime - startTime)/1000) + " seconds";

// tags:TAGS
let tags = new Array();

// values:INFOTABLE(Datashape: JS_Maint_Template_DataShape)
let values = Things["JS_Maint_Template_DataTable"].CreateValues();
values.VuforiaPictureNumber = me.pictureNumber; // LONG [Primary Key]
values.totalTime = me.TotalTime; // STRING

me.TotalTime = ((endTime - startTime)/1000) + " seconds";

// location:LOCATION
let location = {
    latitude: 0,
    longitude: 0,
    elevation: 0,
    units: "WGS84"
};

let params = {
	tags: tags,
	source: me.name,
	values: values,
	location: location
};

// AddOrUpdateDataTableEntry(tags:TAGS, source:STRING("me.name"), values:INFOTABLE(JS_Maint_Template_DataTable), location:LOCATION):STRING
let id = Things["JS_Maint_Template_DataTable"].AddOrUpdateDataTableEntry(params);

]]></code></Row></Rows></ConfigurationTable></ConfigurationTables></ServiceImplementation><ServiceImplementation description="" handlerName="Script" name="newImage"><ConfigurationTables><ConfigurationTable dataShapeName="" description="" isMultiRow="false" name="Script" ordinal="0"><DataShape><FieldDefinitions><FieldDefinition baseType="STRING" description="code" name="code" ordinal="0"/></FieldDefinitions></DataShape><Rows><Row><code><![CDATA[// tags:TAGS
let tags = new Array();

// values:INFOTABLE(Datashape: JS_Maint_Template_DataShape)
let values = Things["JS_Maint_Template_DataTable"].CreateValues();
me.pictureNumber = me.pictureNumber +1;
values.VuforiaPictureNumber = me.pictureNumber; // LONG
values.vuforiaPicture = newImage; // IMAGE
values.VuforiaPictureText = newImage; // STRING [Primary Key]
values.VuforiaMaintNotes = newNotes; // STRING
values.VuforiaUsername = newUsername; // STRING
values.StepsStarted = me.SequenceStarted; // BOOLEAN
values.StepsFinished = me.SequenceFinished; // BOOLEAN

me.maintenancePicture = newImage;
me.imageText = newImage;
me.nameInput = newUsername;
me.maintenanceNotes = newNotes;

// location:LOCATION
let location = {
    latitude: 0,
    longitude: 0,
    elevation: 0,
    units: "WGS84"
};

let params = {
	tags: tags,
	source: me.name,
	values: values,
	location: location
};

// AddOrUpdateDataTableEntry(tags:TAGS, source:STRING("me.name"), values:INFOTABLE(JS_Maint_Template_DataTable), location:LOCATION):STRING
let id = Things["JS_Maint_Template_DataTable"].AddOrUpdateDataTableEntry(params);



//
///
//
//
//
// tags:TAGS
]]></code></Row></Rows></ConfigurationTable></ConfigurationTables></ServiceImplementation><ServiceImplementation description="" handlerName="Script" name="queryEntries"><ConfigurationTables><ConfigurationTable dataShapeName="" description="" isMultiRow="false" name="Script" ordinal="0"><DataShape><FieldDefinitions><FieldDefinition baseType="STRING" description="code" name="code" ordinal="0"/></FieldDefinitions></DataShape><Rows><Row><code><![CDATA[me.GetDataTableEntries({
	maxItems: querySize /* NUMBER */
});]]></code></Row></Rows></ConfigurationTable></ConfigurationTables></ServiceImplementation></ServiceImplementations><Subscriptions/></ThingShape><PropertyBindings/><RemotePropertyBindings/><RemoteServiceBindings/><RemoteEventBindings/><AlertConfigurations><AlertDefinitions name="imageText"/><AlertDefinitions name="maintenanceNotes"/><AlertDefinitions name="maintenancePicture"/><AlertDefinitions name="nameInput"/><AlertDefinitions name="pictureNumber"/><AlertDefinitions name="SequenceFinished"/><AlertDefinitions name="SequenceStarted"/><AlertDefinitions name="TotalTime"/></AlertConfigurations><ImplementedShapes/><ThingProperties><imageText><Value/><Timestamp>1970-01-01T00:00:00.000Z</Timestamp><Quality>UNKNOWN</Quality></imageText><pictureNumber><Value>0</Value><Timestamp>1970-01-01T00:00:00.000Z</Timestamp><Quality>UNKNOWN</Quality></pictureNumber><maintenanceNotes><Value/><Timestamp>1970-01-01T00:00:00.000Z</Timestamp><Quality>UNKNOWN</Quality></maintenanceNotes><maintenancePicture><Value/><Timestamp>1970-01-01T00:00:00.000Z</Timestamp><Quality>UNKNOWN</Quality></maintenancePicture><SequenceStarted><Value>false</Value><Timestamp>1970-01-01T00:00:00.000Z</Timestamp><Quality>UNKNOWN</Quality></SequenceStarted><TotalTime><Value/><Timestamp>1970-01-01T00:00:00.000Z</Timestamp><Quality>UNKNOWN</Quality></TotalTime><SequenceFinished><Value>false</Value><Timestamp>1970-01-01T00:00:00.000Z</Timestamp><Quality>UNKNOWN</Quality></SequenceFinished><nameInput><Value/><Timestamp>1970-01-01T00:00:00.000Z</Timestamp><Quality>UNKNOWN</Quality></nameInput></ThingProperties><ConfigurationChanges><ConfigurationChange changeAction="CREATE" changeReason="header : name : updated&#10;" timestamp="2021-07-07T05:42:18.579Z" user="jstastny"/></ConfigurationChanges></Thing></Things></Entities>